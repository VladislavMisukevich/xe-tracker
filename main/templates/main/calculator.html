{% extends "main/base.html" %}
{% block title %}–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –•–ï{% endblock %}

{% block content %}
<div class="card p-4 shadow-sm">
    <h1 class="mb-2"><i class="bi bi-calculator"></i> –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –•–ï</h1>
    <p class="text-muted mb-4">–£–∑–Ω–∞–π, —Å–∫–æ–ª—å–∫–æ —Ö–ª–µ–±–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü –≤ –ª—é–±–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ ‚Äî –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ!</p>

    <form method="get" class="row g-3">
        <div class="col-md-6">
            <label for="product" class="form-label">üçé –ü—Ä–æ–¥—É–∫—Ç:</label>
            <input type="text" id="product" name="product" required class="form-control form-control-lg" list="products" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, —è–±–ª–æ–∫–æ" autofocus>
            <datalist id="products">
                {% for product in products %}
                    <option value="{{ product.name }}">
                {% endfor %}
            </datalist>
        </div>
        <div class="col-md-6">
            <label for="weight" class="form-label">‚öñÔ∏è –í–µ—Å (–≤ –≥—Ä–∞–º–º–∞—Ö):</label>
            <input type="number" id="weight" name="weight" min="1" required class="form-control form-control-lg" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 120">
        </div>
        <div class="col-12 d-grid d-md-block">
            <button type="submit" class="btn btn-primary btn-lg mt-2">
                üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å
            </button>
        </div>
    </form>

    {% if result is not None %}
        <div class="alert alert-success mt-4 shadow-sm rounded">
            <i class="bi bi-check-circle-fill me-2"></i>
            <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> {{ result }} –•–ï
        </div>
    {% endif %}

    <div class="mt-4">
        <a href="{% url 'product_list' %}" class="btn btn-outline-secondary">
            üìò –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        </a>
        <a href="{% url 'add_product' %}" class="btn btn-outline-primary mb-3">
            + –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç
        </a>
    </div>

    <p class="text-muted small mt-3">
        ‚ÑπÔ∏è 1 –•–ï ‚âà 10‚Äì12 –≥ —É–≥–ª–µ–≤–æ–¥–æ–≤. –í–µ—Å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –≥—Ä–∞–º–º–∞—Ö.
    </p>
</div>
{% endblock %}

{% block extra_head %}
<style>
    .form-control-lg {
        border-radius: 12px;
    }
    .btn-lg {
        border-radius: 50px;
        transition: transform 0.2s ease;
    }
    .btn-lg:hover {
        transform: scale(1.05);
    }
    .alert {
        font-size: 1.1rem;
    }
</style>
{% endblock %}
